%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Procedure during Tests}

\subsection{Safety First!}
\label{rule:safetyfirst}
\begin{enumerate}
	\item \textbf{Emergency Stop:} At any time when operating the robot inside and outside the scenario the owners have to stop the robot immediately if there is a remote possibility of dangerous behavior towards people and/or objects.
	\item \textbf{Stopping on request:} If a referee, member of the Technical or Organizational committee, an Executive or Trustee of the federation tells the team to stop the robot, there will be no discussion and the robot has to be stopped \emph{immediately}.
	\item \textbf{Penalties:} If the team does not comply, the team and its members will be excluded from the ongoing competition immediately by a decision of the RoboCup@Home \iaterm{Technical Committee}{TC}. 	Furthermore, the team and its members may be banned from future competitions for a period not less than a year by a decision of the RoboCup Federation Trustee Board.
\end{enumerate}

\subsection{Maximum number of team members}
\label{rule:number_of_people}
\begin{enumerate}
	\item \textbf{Regular Tests:} During a regular test, the maximum number of team members allowed inside the arena is \emph{one} (1).
	Exceptions are tests that explicitly require volunteer assistance.
	\item \textbf{Setup:} During the setup of a test, the number of team members inside the arena is not limited.
	\item \textbf{Moderation:} During a regular test, one team member \emph{must} be available to host and comment the test (see~\refsec{rule:moderator}).
\end{enumerate}

\subsection{Fair play}
\label{rule:fairplay}
\iterm{Fair Play} and cooperative behavior is expected from all teams during the entire competition, in particular:
\begin{itemize}
	\item while evaluating other teams,
	\item while refereeing, and
	\item when having to interact with other teams' robots.
\end{itemize}
This also includes:
\begin{itemize}
	\item not trying to cheat (e.g.~pretending autonomous behavior where there is none),
	\item not trying to exploit the rules (e.g.~not trying to solve the task but trying to score), and
	\item not trying to make other robots fail on purpose.
	\item not modifying robots in standard platforms.
\end{itemize}
Disregard of this rule can lead to penalties in the form of negative scores, disqualification for a test, or even for the entire competition.

\subsection{Expected Robot's Behavior}
Unless stated otherwise, it is expected that the robot always behave and react in the same way a polite and friendly human being would do.
This applies also to how robots try solve the assigned task
As rule of thumb, one may ask any non-scientist how she would solve the task.

Please consider that average users will not know the specific procedure to operate a robot.
Hence, interaction should be as with any other human being.


\subsection{Robot Autonomy and Remote Control}
\begin{enumerate}
	\item \textbf{No touching:} During a test, the participants are not allowed to make contact with the robot(s), unless it is in a \enquote{natural} way and required by the task.

	\item \textbf{Natural interaction:} The only allowed means to interact with the robot(s) are gestures and speech.

	\item \textbf{Natural commands:} Anything that resembles direct control is forbidden.

	\item \textbf{Remote Control:} Remotely controlling the robot(s) is strictly prohibited.
	This also includes pressing buttons, or influencing sensors on purpose.

	\item \textbf{Penalties:} Disregard of these rules will lead to disqualification for a test or for the entire competition.
\end{enumerate}



\subsection{Collisions}
\begin{enumerate}
	\item \textbf{\iterm{Touching}:} Gently \emph{touching} objects is tolerated but unadvised.
	However, robots are not allowed to crash with something.
	The \enquote{safety first} rule (\refsec{rule:safetyfirst}) overrides any other rule.

	\item \textbf{\iterm{Major collisions}:} If a robot crushes into something during a test, the robot is immediately stopped.	Additional penalties may apply.

	\item \textbf{\iterm{Functional touching}:} Robots are allowed to apply pressure on objects, push away furniture and, in general, interact with the environment using structural parts other than their manipulators.
	This is known as \iaterm{functional touching}.
	However, the robot must clearly announce the collision-like interaction and kindly request not being stopped.\\
	\textbf{Remark: } Referees can (and will) immediately stop a robot in case or suspicion of \emph{dangerous} behavior.
	
	\item \textbf{Robot-Robot avoidance:} If two robots encounter each other, they both have to actively try to avoid the other robot.
	\begin{enumerate}
		\item A robot which is not going for a different route within a reasonable amount of time (e.g., \SI{30}{\second}) is removed.
		\item A non-moving robot blocking the path of another robot for longer than a reasonable amount of time (e.g., \SI{30}{\second}) is removed.
	\end{enumerate}
\end{enumerate}



\subsection{Removal of robots}
\label{rule:robot_removal}
Robots not obeying the rules are stopped and removed from the arena.
\begin{enumerate}
	\item It is the decision of the referees and the TC member monitoring the test if and when to remove a robot.
	\item When told to do so by the referees or the TC member monitoring the test, the team has to immediately stop the robot, and remove it from the arena without disturbing the ongoing test.
\end{enumerate}


\subsection{Start signal}
\label{rule:start_signal}
The default \iterm{start signal} (unless stated otherwise) is \iterm{door opening}.
Other start signals are allowed but must be authorized by the \iaterm{Technical Committee}{TC} during the Robot Inspection (see~\refsec{sec:robot_inspection}).

\begin{enumerate}
	\item \textbf{Door opening:} The robot is waiting behind the door, outside the arena and accompanied by a team member.
	The test starts when a referee (not a team member) opens the door.

	\item \textbf{Start button:} If the robot is not able to automatically start after the door is open, the team may start the robot using a start button.
	\begin{enumerate}
		\item Using a start button needs to be announced to the referees. It is the responsibility of the team to do so before the test starts.
		\item Any single-key-press procedure is allowed. Typing commands is strictly forbidden.
		\item There may be penalties for using a start button in some tests
	\end{enumerate}

	\item \textbf{QR Codes:} If the robot is not able to automatically start after the door is open, the team may start the robot by showing it a QR code.

	\item \textbf{Verbal instructions:} If the robot is not able to automatically start after the door is open, the team may start the robot using a verbal command.

	\item \textbf{Ad-hoc start signal:} Other means of triggering robot to action must be approved by the \iaterm{Technical Committee}{TC} during the Robot Inspection (see~\refsec{sec:robot_inspection}).
\end{enumerate}


\subsection{Entering and leaving the arena}
\label{rule:start_position}
\begin{enumerate}
	\item \textbf{Start position:} Unless stated otherwise, the robot starts outside of the arena.
	\item \textbf{Entering:} The robot has to autonomously enter the arena.
	\item \textbf{Success:} The robot is said to \emph{have entered} when the door used to enter can be closed again, and the robot is not blocking the passage.
\end{enumerate}



\subsection{Gestures}
\label{rule:gestures}
Hand gestures may be used to control the robot in the following way:
\begin{enumerate}
	\item \textbf{Definition:} The teams define the hand gestures by themselves.

	\item \textbf{Approval:} Gestures need to be approved by the referees and TC member monitoring the test. Gestures should not involve more than the movement of both arms. This includes e.g.~expressions of sign language or pointing gestures.

	\item \textbf{Instructing operators:} It is the responsibility of the team to instruct operators.
	\begin{enumerate}
		\item The team may only instruct the operator when told to so by a referee.
		\item The team may only instruct the operator in the presence of a referee.
		\item The team may only instruct the robot for as long as allowed by the referee.
		\item When the robot has to instruct the operator, it is the robot that instructs the operator and \emph{not} the team. The team is not allowed to additionally guide the operator, e.g., tell the operator to come closer, speak louder, or to repeat a command.
		\item The robot is allows to instruct the operator at any time.
	\end{enumerate}

	\item \textbf{Receiving gestures:} Unless stated otherwise, it is not allowed to use a speech command to set the robot into a special mode for receiving gestures.
\end{enumerate}



\subsection{Referees}
\label{rule:referees}
All tests are monitored by a referee and one member of the \iaterm{Technical Committee}{TC}.
The following rules apply:

\begin{enumerate}
	\item \textbf{Selection:}
	\begin{itemize}
		\item Referees are chosen by EC/TC/OC.
		\item Referees are announced together with the schedule for the test slot.
	\end{itemize}

	\item \textbf{Not showing up:} Not showing up for refereeing (on time) will result in a penalty (see~\refsec{rule:extraordinary_penalties}).

	\item \textbf{TC monitoring:} A TC member acts as main referee.

	\item \textbf{Referee instructions:} Right before each test, referee instructions are conducted by the TC.
	The referees for all slots need to be present at the arena where the referee instructions are taking place.
	When and where referee instructions are taking place is announced together with the schedule for the slots.
\end{enumerate}


\subsection{Operators}
\label{rule:operator}
Unless stated otherwise, robots are operated by the referee or by a person selected by the referee.
If the robot fails to understand the default operator, the team may request the use of a custom operator.
Penalty may apply when using a custom operator.


\subsection{Moderator}
\label{rule:moderator}
The LOC is responsible of organizing test moderation in the local language.
The OC may request the participating teams to provide a team member for moderation.
Candidates have to be fluent in the moderation language (default is English).

\noindent\textbf{Responsibilities:} The moderators have to:
\begin{compactitem}
	\item Do \textbf{NOT interfere} with the performance
	\item Explain the tasks being performed
	\item Comment on the performance of the competitor
	\item Follow the instructions of the referee.
\end{compactitem}

\noindent \textbf{Not showing up:} Not showing up for moderation (on time) will result in a penalty (see~\refsec{rule:extraordinary_penalties}).


\subsection{Time limits}
\label{rule:time_limits}
\begin{enumerate}
	\item \textbf{Stage~I:} Unless stated otherwise, the time limit for each test in \iterm{Stage~I} is \timing{5 minutes}.

	\item \textbf{Stage~II:} Unless stated otherwise, the time limit for each test in \iterm{Stage~II} is \timing{10 minutes}.

	\item \textbf{Inactivity:} Robots are not allowed to stand still or get stuck into endless loops.
	A robot not progressing in the task execution (and obviously not trying to), is consider as inactive.
	Robots must be removed after 30 seconds of inactivity.

	\item \textbf{Requesting time:} A robot (not the team) can request referees to make exception from the 30-seconds inactivity time limit.
	In its request, the robot has to clearly state for how long it will be performing a time-consuming process (e.g. 60~seconds).
	This time cannot exceed 3 minutes and cannot be used more than once per test.

	\item \textbf{Setup time:} Unless stated otherwise, there is no setup time.
	Robots need to be ready to enter the arena no later than one minute after the door has been closed to the former team.

	\item \textbf{Time-up:} When the time is up, the team has to immediately remove their robot(s) from the arena.
	No more additional score will be giving.

	\item \textbf{Show must go on:} On special cases, the referee may let the robot continue the test for demonstration purposes, but no additional points will be scored.
\end{enumerate}



\subsection{Restart}
\label{rule:restart}
Some tasks allow a single restart, a procedure in which the team is allowed to quickly fix any issue with the robot.
Restarts can be requested only when the test slot permits it, and when the amount of remaining time is greater than 50\% of the total.
The procedure is as follows:

\begin{enumerate}
	\item The team request a restart.
	\item The robot is taken to the initial position (e.g. outside the arena) and gets fixed.
	\item When the robot is ready, the team informs the referee.
\end{enumerate}

The following rules apply:
\begin{enumerate}
	\item \textbf{Number of restarts:} When allowed, the maximum number of restarts is one (1).

	\item \textbf{Early request:} Restart is \textbf{NOT} allowed after the first 50\% of the alloted time has elapsed.

	\item \textbf{Time:} The timer is neither restarted nor stopped. 

	\item \textbf{One-minute Setup} The team has 1 minute to fix the robot counting when the referee announces th restart.
	If the robot is not ready, the test is considered finished.

	\item \textbf{Scoring:} If the score of the second attempt is lower than the score of the first one, the average score of first and second run is taken.
	
	\end{enumerate}

% Local Variables:
% TeX-master: "../Rulebook"
% End: